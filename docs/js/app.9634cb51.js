(function(e){function t(t){for(var n,r,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"032c":function(e,t,a){"use strict";var n=a("e7c8"),s=a.n(n);s.a},"034f":function(e,t,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},2226:function(e,t,a){"use strict";var n=a("9647"),s=a.n(n);s.a},"27b3":function(e,t,a){"use strict";var n=a("9da8"),s=a.n(n);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},i=[],r={name:"A"},o=r,l=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),m=a("7496"),d=Object(l["a"])(o,s,i,!1,null,null,null),f=d.exports;u()(d,{VApp:m["a"]});var v=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"",height:"50"}},[a("tabBar")],1),a("router-view")],1)},h=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{attrs:{"background-color":"#67b0b2",grow:"",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t.tab,on:{click:function(a){return e.switchPage(t.path)}}},[e._v(" "+e._s(t.tab)+" ")])})),1)},b=[],w=(a("ac1f"),a("5319"),{name:"TabBar",data:function(){return{tab:null,items:[{tab:"チーム検索",path:"/teams"},{tab:"チーム登録",path:"/entry-team"},{tab:"ログイン",path:"/signin"}]}},methods:{switchPage:function(e){this.$router.replace(e)}}}),y=w,_=a("71a3"),x=a("fe57"),I=Object(l["a"])(y,g,b,!1,null,null,null),O=I.exports;u()(I,{VTab:_["a"],VTabs:x["a"]});var k={name:"Main",components:{TabBar:O}},V=k,C=a("40dc"),S=Object(l["a"])(V,p,h,!1,null,null,null),M=S.exports;u()(S,{VAppBar:C["a"]});var A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",{staticClass:"bg-teams-view"},[a("v-container",{staticClass:"bg-teams-view height-100per",attrs:{"mb-0":"","mt-n3":"","pa-0":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("teamSidebar",{staticClass:"fixed width-25per height-100per",on:{selectTeams:e.selectTeams}})],1),a("v-col",{attrs:{cols:"9"}},[a("v-container",{attrs:{"mt-2":""}},[a("v-row",e._l(e.teams,(function(t,n){return a("v-col",{key:n,attrs:{cols:"4"}},[a("v-card",{attrs:{width:"100%",height:"100%"}},[a("v-img",{attrs:{height:"200",width:"100%",src:t.team_image_url}}),a("v-card-title",[e._v(" "+e._s(t.team_name)+" ")]),a("v-card-text",[a("v-container",{attrs:{"mt-0":"","pt-0":"","pb-1":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"text-subtitle-1 wordBreak-breakAll"},[e._v(" "+e._s(t.message_of_team)+" ")])],1),a("v-divider"),a("v-row",{attrs:{dense:""}},[a("v-col",[e._v(" "+e._s(t.place_of_activity)+" ")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-rating",{attrs:{readonly:"","empty-icon":"mdi-minus","full-icon":"mdi-fire",hover:"",dense:"",color:"grey darken-1","background-color":"grey lighten-1",length:"5",size:"20",value:t.level_of_seriousness+1}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",[e._v(" "+e._s(t.activity_cycle.week_or_month)+" "+e._s(t.activity_cycle.times_a_week_or_month)+" ")])],1),a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-btn",{attrs:{small:"",color:"#F48D97",dark:""},on:{click:function(a){return e.displayDialog(t.team_name,t.email_address)}}},[e._v(" contact ")])],1),a("v-spacer"),a("v-col",{attrs:{cols:"2"}},[e.asAdmin?a("v-btn",{attrs:{small:"",color:"grey",dark:""},on:{click:function(t){return e.deleteTeam(n)}}},[e._v(" 削除 ")]):e._e()],1)],1)],1)],1)],1),a("v-spacer")],1)})),1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("dialog-card",{attrs:{title:e.dialogTitle,text:e.dialogText}})],1)],1)],1)],1)],1)],1)},T=[],P=(a("4160"),a("843c"),a("159b"),a("96cf"),a("1da1")),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{tile:"",color:"#F7F7F7",height:"100%"}},[a("v-card-title",[e._v(" チーム検索条件 ")]),a("v-divider"),a("v-card-subtitle",{staticClass:"text-center"},[a("font",{staticClass:"err"},[e._v(e._s(e.errMessage))]),a("v-btn",{attrs:{color:"#67b0b2",dark:"",rounded:"",width:"70%"},on:{click:e.selectTeamsFromFilestore}},[a("v-icon",[e._v("mdi-magnify")]),e._v(" 検索 ")],1)],1),a("v-card-text",[a("br"),a("div",{staticClass:"font-weight-black"},[e._v("活動エリア")]),a("prefecturesList",{on:{selectPrefecture:e.setPrefecture}}),a("div",{staticClass:"font-weight-black"},[e._v("本気度")]),a("seriousnessSelecter",{on:{selectMinLevel:e.setMinLevelOfSeriousness,selectMaxLevel:e.setMaxLevelOfSeriousness}}),a("div",{staticClass:"font-weight-black"},[e._v("ポジション")]),a("wanted-position-selecer",{on:{selectPosition:e.setWantedPosition}})],1)],1)],1)},R=[],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.prefecturesList,label:"都道府県","prepend-icon":"mdi-map-marker"},on:{change:e.selectPrefecture},model:{value:e.selectedPrefecture,callback:function(t){e.selectedPrefecture=t},expression:"selectedPrefecture"}})},F=[],$={props:{selectedPrefecture:{type:String,default:""}},data:function(){return{prefecturesList:["埼玉","千葉","東京","神奈川"]}},methods:{selectPrefecture:function(){this.$emit("selectPrefecture",this.selectedPrefecture)}}},E=$,D=a("b974"),U=Object(l["a"])(E,j,F,!1,null,null,null),W=U.exports;u()(U,{VSelect:D["a"]});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{attrs:{cols:"1"}},[a("v-icon",[e._v("mdi-fire")])],1),a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:e.levelList,label:"",dense:""},on:{change:e.selectMinLevel},model:{value:e.levelOfSeriousness.minLevel,callback:function(t){e.$set(e.levelOfSeriousness,"minLevel",t)},expression:"levelOfSeriousness.minLevel"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"1"}},[e._v(" ～ ")]),a("v-col",{attrs:{cols:"5"}},[a("v-select",{attrs:{items:e.levelList,label:"",dense:""},on:{change:e.selectMaxLevel},model:{value:e.levelOfSeriousness.maxLevel,callback:function(t){e.$set(e.levelOfSeriousness,"maxLevel",t)},expression:"levelOfSeriousness.maxLevel"}})],1)],1)],1)},B=[],z={data:function(){return{levelOfSeriousness:{minLevel:null,maxLevel:null},levelList:[1,2,3,4,5]}},methods:{selectMinLevel:function(){console.log(),this.$emit("selectMinLevel",this.levelOfSeriousness.minLevel)},selectMaxLevel:function(){this.$emit("selectMaxLevel",this.levelOfSeriousness.maxLevel)}}},Z=z,G=(a("27b3"),a("62ad")),J=a("a523"),K=a("132d"),Q=a("0fd9"),H=Object(l["a"])(Z,N,B,!1,null,null,null),Y=H.exports;u()(H,{VCol:G["a"],VContainer:J["a"],VIcon:K["a"],VRow:Q["a"],VSelect:D["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{"prepend-icon":" mdi-volleyball ",items:e.positionList,label:"募集中のポジション",multiple:e.multipleFlg},on:{change:e.selectPosition},model:{value:e.wantedPosition,callback:function(t){e.wantedPosition=t},expression:"wantedPosition"}})},X=[],ee={props:{multipleFlg:{type:Boolean,default:!1},wantedPosition:{type:Array,default:function(){return[]}}},data:function(){return{positionList:["ウィングスパイカー","ミドルブロッカー","セッター","リベロ"]}},methods:{selectPosition:function(){this.$emit("selectPosition",this.wantedPosition)}}},te=ee,ae=Object(l["a"])(te,q,X,!1,null,null,null),ne=ae.exports;u()(ae,{VSelect:D["a"]});var se=a("0ff2"),ie=a("59ca"),re=a.n(ie);a("e71f"),a("588e");n["default"].use(se["a"]);var oe=re.a.initializeApp({apiKey:"AIzaSyCvvcghFoG37MKM1RMlZdE9aN5vmoQ-pys",authDomain:"valibo-84ec1.firebaseapp.com",databaseURL:"https://valibo-84ec1.firebaseio.com",projectId:"valibo-84ec1",storageBucket:"valibo-84ec1.appspot.com",messagingSenderId:"885320235025",appId:"1:885320235025:web:5ce7cd1098c0b0592bd9b0",measurementId:"G-ZFCQEBRD6C"}),le=oe.firestore(),ce=oe.storage(),ue={components:{PrefecturesList:W,SeriousnessSelecter:Y,WantedPositionSelecer:ne},data:function(){return{placeOfActivity:"",minlevelOfSeriousness:"",maxlevelOfSeriousness:"",wantedPosition:"",errMessage:null}},methods:{setMinLevelOfSeriousness:function(e){console.log("min:",e),this.minlevelOfSeriousness=e},setMaxLevelOfSeriousness:function(e){console.log("max:",e),this.maxlevelOfSeriousness=e},setWantedPosition:function(e){console.log(e),this.wantedPosition=e},setPrefecture:function(e){console.log(e),this.placeOfActivity=e},selectTeamsFromFilestore:function(){var e=this;if(this.errMessage=null,!this.placeOfActivity||!this.minlevelOfSeriousness||!this.maxlevelOfSeriousness||!this.wantedPosition)return this.errMessage="検索条件に未入力項目があります",void console.log("検索条件に未入力項目があります");var t=le.collection("teams"),a=t.where("place_of_activity","==",this.placeOfActivity).where("level_of_seriousness",">=",this.minlevelOfSeriousness-1).where("level_of_seriousness","<=",this.maxlevelOfSeriousness-1).where("wanted_position","array-contains",this.wantedPosition),n=a.get().then((function(t){if(t.empty)return console.log("no matching docs"),void(e.errMessage="条件を満たすチームが存在しません");var a={};t.forEach((function(e){a[e.id]=e.data()})),console.log(a),e.$emit("selectTeams",a)})).catch((function(e){console.log("Error getting documents ... ",e)}));console.log(n)}}},me=ue,de=(a("6a9d"),a("8336")),fe=a("b0af"),ve=a("99d9"),pe=a("ce7e"),he=Object(l["a"])(me,L,R,!1,null,null,null),ge=he.exports;u()(he,{VBtn:de["a"],VCard:fe["a"],VCardSubtitle:ve["a"],VCardText:ve["b"],VCardTitle:ve["c"],VDivider:pe["a"],VIcon:K["a"]});a("ea7b");var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(e._s(e.title))]),a("v-divider"),a("v-card-text",{staticClass:"text-h6",attrs:{height:"350px"}},[e._v(e._s(e.text))])],1)},we=[],ye={props:{title:{type:String,default:""},text:{type:String,default:""}},data:function(){return{dialog:!1}}},_e=ye,xe=Object(l["a"])(_e,be,we,!1,null,null,null),Ie=xe.exports;u()(xe,{VCard:fe["a"],VCardText:ve["b"],VCardTitle:ve["c"],VDivider:pe["a"]});var Oe={name:"TeamsView",data:function(){return{teams:{},teamsRef:null,dialog:!1,dialogText:"none",dialogTitle:"-",asAdmin:!1,asUser:!1}},components:{TeamSidebar:ge,DialogCard:Ie},created:function(){var e=this,t=this;re.a.auth().onAuthStateChanged(function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return n=le.collection("valibo_account_master").doc(a.email),e.next=4,n.get().then((function(e){e.exists?(console.log("Document data:",e.data().role),t.role=e.data().role):console.log("No such document!")}));case 4:"admin"===t.role?(t.asAdmin=!0,console.log("admin")):"user"===t.role&&(t.asUser=!0,console.log("user"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.teamsRef=le.collection("teams"),this.teamsRef.onSnapshot((function(t){var a={};t.forEach((function(e){a[e.id]=e.data();var t=a[e.id].message_of_team.padEnd(30,"　");a[e.id].message_of_team=t})),e.teams=a}))},methods:{selectTeams:function(e){this.teams=e},deleteTeam:function(e){this.teamsRef.doc(e).delete()},displayDialog:function(e,t){this.dialogTitle="「"+e+"」連絡先",this.dialogText=t,this.dialog=!0}}},ke=Oe,Ve=(a("2226"),a("a75b")),Ce=a("169a"),Se=a("adda"),Me=a("1d4d"),Ae=a("2fa4"),Te=Object(l["a"])(ke,A,T,!1,null,"396a6f15",null),Pe=Te.exports;u()(Te,{VApp:m["a"],VBtn:de["a"],VCard:fe["a"],VCardText:ve["b"],VCardTitle:ve["c"],VCol:G["a"],VContainer:J["a"],VContent:Ve["a"],VDialog:Ce["a"],VDivider:pe["a"],VImg:Se["a"],VRating:Me["a"],VRow:Q["a"],VSpacer:Ae["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",{staticClass:"bg-teams-view"},[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",{attrs:{height:"100%",justify:"center"}},[a("v-card",{attrs:{"min-width":"400",width:"35%","max-width":"600",color:"#F7F7F7",align:"center"}},[a("v-card-title",[e._v(" チーム登録 ")]),a("v-form",{ref:"entryTeamForm",attrs:{disabled:!(e.asUser||e.asAdmin)}},[a("v-card-text",[a("v-list",[a("v-list-item",[a("v-text-field",{attrs:{"prepend-icon":" mdi-account-group ",label:"チーム名",counter:"10",rules:e.rulesOfTeamName},on:{blur:e.checkInputMust},model:{value:e.teamInfo.teamName,callback:function(t){e.$set(e.teamInfo,"teamName",t)},expression:"teamInfo.teamName"}})],1),a("v-list-item",[a("v-text-field",{attrs:{label:"連絡先（e-mail）","prepend-icon":"mdi-email",type:"email",rules:e.rulesOfEmail},on:{blur:e.checkInputMust},model:{value:e.teamInfo.emailAddress,callback:function(t){e.$set(e.teamInfo,"emailAddress",t)},expression:"teamInfo.emailAddress"}})],1),a("v-list-item",[a("prefectures-list",{attrs:{"selected-prefecture":e.teamInfo.placeOfActivity},on:{selectPrefecture:e.setPrefecture}})],1),a("v-list-item",[a("v-slider",{attrs:{"prepend-icon":" mdi-fire ",label:"本気度",max:"4",step:"1","tick-labels":e.ticksLabels},model:{value:e.teamInfo.levelOfSeriousness,callback:function(t){e.$set(e.teamInfo,"levelOfSeriousness",t)},expression:"teamInfo.levelOfSeriousness"}})],1),a("v-list-item",[a("wanted-position-selecer",{attrs:{"multiple-flg":!0,"wanted-position":e.teamInfo.wantedPosition},on:{selectPosition:e.setWantedPosition}})],1),a("v-list-item",[a("v-radio-group",{attrs:{"prepend-icon":"mdi-calendar-clock",label:"活動ペース"},on:{change:e.checkInputMust},model:{value:e.teamInfo.activityCycle.weekOrMonth,callback:function(t){e.$set(e.teamInfo.activityCycle,"weekOrMonth",t)},expression:"teamInfo.activityCycle.weekOrMonth"}},[a("br"),a("v-radio",{attrs:{label:"毎週",value:"毎週"}}),a("v-radio",{attrs:{label:"毎月",value:"毎月"}}),a("v-select",{attrs:{items:e.times,label:"回数"},on:{blur:e.checkInputMust},model:{value:e.teamInfo.activityCycle.timesAWeekOrMonth,callback:function(t){e.$set(e.teamInfo.activityCycle,"timesAWeekOrMonth",t)},expression:"teamInfo.activityCycle.timesAWeekOrMonth"}})],1)],1),a("v-list-item",[a("v-textarea",{attrs:{rows:"2",label:"ひとこと","prepend-icon":"mdi-comment",rules:e.rulesOfMessage,counter:"30"},on:{blur:e.checkInputMust},model:{value:e.teamInfo.messageOfTeam,callback:function(t){e.$set(e.teamInfo,"messageOfTeam",t)},expression:"teamInfo.messageOfTeam"}})],1),a("v-list-item",[e.imageInputForm?a("v-file-input",{attrs:{accept:"image/*",label:"チームの写真","prepend-icon":"mdi-camera"},on:{change:e.selectImage}}):e._e()],1),a("v-list-item",[e.uploading?a("vue-loading",{attrs:{type:"spiningDubbles",color:"#7ec0e7",size:{width:"50px",height:"50px"}}}):e._e()],1)],1)],1)],1),e.entryTeamDone?a("v-alert",{attrs:{dense:"","max-width":"70%",type:"success"}},[e._v(" "+e._s(this.systemMessage)+" ")]):e._e(),a("v-btn",{attrs:{large:"",color:"primary",disabled:!e.isEntryReady},on:{click:e.entryTeam}},[e._v(" 登録 ")]),a("br"),a("br")],1)],1)],1)],1)],1)},Re=[],je=(a("b0c0"),a("d523")),Fe=a("4627"),$e={getCompressImageFile:function(e){return Object(P["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={maxSizeMB:.8,maxWidthOrHeight:600},t.prev=1,t.next=4,Object(Fe["a"])(e,a);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("getCompressImageFile is error",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},Ee={components:{WantedPositionSelecer:ne,PrefecturesList:W,VueLoading:je["VueLoading"]},data:function(){return{rulesOfTeamName:[function(e){return e.length<=10||"10文字以下で入力してください"}],rulesOfMessage:[function(e){return e.length<=30||"30文字以下で入力してください"}],rulesOfEmail:[function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"メールアドレスの形式が正しくありません"},function(e){return e.length<=254||"メールアドレスが長すぎます"}],times:["1回","2回","3回","4回","5回","6回","7回","8回","9回","10回以上"],systemMessage:"",entryTeamDone:!1,ticksLabels:["1","2","3","4","5"],isEntryReady:!1,teamsRef:null,uploading:!1,imageInfo:null,imageInputForm:!0,compressedImage:null,teamImageUrl:"",teamInfo:{teamName:"",placeOfActivity:"",levelOfSeriousness:"2",wantedPosition:[],activityCycle:{weekOrMonth:"",timesAWeekOrMonth:""},emailAddress:"",messageOfTeam:""},role:"",asAdmin:!1,asUser:!1}},created:function(){this.teamsRef=le.collection("teams");var e=this;re.a.auth().onAuthStateChanged(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return n=le.collection("valibo_account_master").doc(a.email),t.next=4,n.get().then((function(t){t.exists?(console.log("Document data:",t.data().role),e.role=t.data().role):console.log("No such document!")}));case 4:"admin"===e.role?(e.asAdmin=!0,console.log("admin")):"user"===e.role&&(e.asUser=!0,console.log("user"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:{setPrefecture:function(e){this.teamInfo.placeOfActivity=e,this.checkInputMust()},setWantedPosition:function(e){this.teamInfo.wantedPosition=e,this.checkInputMust()},selectImage:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.imageInfo=e,t.checkInputMust();case 2:case"end":return a.stop()}}),a)})))()},checkInputMust:function(){""!==this.teamInfo.teamName&&""!==this.teamInfo.emailAddress&&""!==this.teamInfo.placeOfActivity&&0!==this.teamInfo.wantedPosition.length&&""!==this.teamInfo.activityCycle.weekOrMonth&&""!==this.teamInfo.activityCycle.timesAWeekOrMonth&&""!==this.teamInfo.messageOfTeam&&null!==this.imageInfo&&void 0!==this.imageInfo?this.$refs.entryTeamForm.validate()?this.isEntryReady=!0:console.log("バリデーションチェックエラー"):(this.isEntryReady=!1,console.log("必須チェックエラー"))},entryTeam:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.teamInfo.teamName&&""!==e.teamInfo.placeOfActivity&&e.teamInfo.wantedPosition!==[]&&""!==e.teamInfo.activityCycle.weekOrMonth&&""!==e.teamInfo.activityCycle.timesAWeekOrMonth&&null!==e.imageInfo){t.next=3;break}return console.log("入力項目に不足あり"),t.abrupt("return");case 3:return e.uploading=!0,a=new Date,n=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate(),console.log("start compress"),t.next=9,$e.getCompressImageFile(e.imageInfo);case 9:return e.compressedImage=t.sent,console.log("finished compress"),s=e.imageInfo.name+"_"+a,i=ce.ref(),r=i.child("team_image/"+s),o=e,t.next=17,r.put(e.compressedImage).then(function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ref.getDownloadURL();case 2:o.teamImageUrl=e.sent,console.log(o.teamImageUrl),console.log("upload done");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:e.teamsRef.add({team_name:e.teamInfo.teamName,place_of_activity:e.teamInfo.placeOfActivity,level_of_seriousness:e.teamInfo.levelOfSeriousness,entry_timestamp:a,entry_date:n,wanted_position:e.teamInfo.wantedPosition,activity_cycle:{week_or_month:e.teamInfo.activityCycle.weekOrMonth,times_a_week_or_month:e.teamInfo.activityCycle.timesAWeekOrMonth},email_address:e.teamInfo.emailAddress,message_of_team:e.teamInfo.messageOfTeam,team_image_url:e.teamImageUrl}),e.uploading=!1,e.teamInfo.teamName="",e.teamInfo.emailAddress=null,e.teamInfo.placeOfActivity="",e.teamInfo.levelOfSeriousness="2",e.teamInfo.wantedPosition=null,e.teamInfo.activityCycle.weekOrMonth="",e.teamInfo.activityCycle.timesAWeekOrMonth="",e.teamInfo.messageOfTeam="",e.imageInputForm=!1,e.$nextTick((function(){e.imageInputForm=!0})),e.isEntryReady=!1,e.entryTeamDone=!0,e.systemMessage="チームを登録しました";case 32:case"end":return t.stop()}}),t)})))()}}},De=Ee,Ue=(a("032c"),a("0798")),We=a("23a7"),Ne=a("4bd4"),Be=a("8860"),ze=a("da13"),Ze=a("67b6"),Ge=a("43a6"),Je=a("ba0d"),Ke=a("8654"),Qe=a("a844"),He=Object(l["a"])(De,Le,Re,!1,null,"f9316eea",null),Ye=He.exports;u()(He,{VAlert:Ue["a"],VApp:m["a"],VBtn:de["a"],VCard:fe["a"],VCardText:ve["b"],VCardTitle:ve["c"],VContainer:J["a"],VContent:Ve["a"],VFileInput:We["a"],VForm:Ne["a"],VList:Be["a"],VListItem:ze["a"],VRadio:Ze["a"],VRadioGroup:Ge["a"],VRow:Q["a"],VSelect:D["a"],VSlider:Je["a"],VTextField:Ke["a"],VTextarea:Qe["a"]});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",{staticClass:"bg-teams-view"},[a("v-container",{attrs:{"ma-0":"","pa-0":"",fluid:"","fill-height":""}},[a("v-row",{attrs:{height:"100%",justify:"center"}},[a("v-card",{attrs:{"min-width":"400",width:"35%","max-width":"600",color:"#F7F7F7",align:"center"}},[a("v-card-title",[e._v(" ログイン ")]),a("v-card-text",[a("v-list",[a("v-list-item",[a("v-text-field",{attrs:{"prepend-icon":" mdi-identifier ",label:"ID"},on:{blur:e.checkInputMust},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),a("v-list-item",[a("v-text-field",{attrs:{"prepend-icon":" mdi-key ",label:"Password",type:"password"},on:{blur:e.checkInputMust},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.asAdmin?a("v-alert",{attrs:{dense:"","max-width":"90%",type:"info"}},[e._v(" 管理者としてログインしています ")]):e._e(),e.asUser?a("v-alert",{attrs:{dense:"","max-width":"90%",type:"info"}},[e._v(" 一般ユーザとしてログインしています ")]):e._e(),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"5"}},[a("v-btn",{attrs:{large:"",width:"75%",color:"primary",disabled:e.asAdmin||e.asUser},on:{click:e.signIn}},[e._v(" ログイン ")])],1),a("v-col",{attrs:{cols:"5"}},[a("v-btn",{attrs:{large:"",width:"75%",color:"error",disabled:!(e.asAdmin||e.asUser)},on:{click:e.signOut}},[e._v(" ログアウト ")])],1)],1),a("br"),a("br")],1)],1)],1)],1)],1)],1)],1)},Xe=[],et={components:{},data:function(){return{id:"",password:"",isReadyToSignIn:!1,asAdmin:!1,asUser:!1}},created:function(){var e=this;re.a.auth().onAuthStateChanged(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return n=le.collection("valibo_account_master").doc(a.email),t.next=4,n.get().then((function(t){t.exists?(console.log("Document data:",t.data().role),e.role=t.data().role):console.log("No such document!")}));case 4:"admin"===e.role?(e.asAdmin=!0,console.log("admin")):"user"===e.role&&(e.asUser=!0,console.log("user"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},methods:{checkInputMust:function(){""===this.id||""===this.password?(console.log("未入力項目あり"),this.isReadyToSignIn=!1):this.isReadyToSignIn=!0},signIn:function(){if(""!==this.id&&""!==this.password){console.log("id:",this.id,"PW:",this.password),re.a.auth().signInWithEmailAndPassword(this.id,this.password).catch((function(e){alert("ログインに失敗しました 再度お試しください"),console.log(e)}));var e=this;re.a.auth().onAuthStateChanged((function(t){t&&(e.asAdmin=!0,e.id="",e.password="",e.isReadyToSignIn=!1)}))}else console.log("未入力項目あり")},signOut:function(){console.log("signOut"),re.a.auth().signOut(),this.asAdmin=!1,this.asUser=!1}}},tt=et,at=Object(l["a"])(tt,qe,Xe,!1,null,"6c5bbfff",null),nt=at.exports;u()(at,{VAlert:Ue["a"],VApp:m["a"],VBtn:de["a"],VCard:fe["a"],VCardText:ve["b"],VCardTitle:ve["c"],VCol:G["a"],VContainer:J["a"],VContent:Ve["a"],VList:Be["a"],VListItem:ze["a"],VRow:Q["a"],VTextField:Ke["a"]}),n["default"].use(v["a"]);var st=[{path:"/",name:"main",component:M,children:[{path:"/teams",component:Pe},{path:"/entry-team",component:Ye},{path:"/signin",component:nt}]}],it=new v["a"]({mode:"history",base:"",routes:st}),rt=it,ot=a("2f62");n["default"].use(ot["a"]);var lt=new ot["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ct=a("f309");n["default"].use(ct["a"]);var ut=new ct["a"]({});n["default"].config.productionTip=!1,new n["default"]({router:rt,store:lt,vuetify:ut,render:function(e){return e(f)}}).$mount("#app")},"6a9d":function(e,t,a){"use strict";var n=a("9334"),s=a.n(n);s.a},"85ec":function(e,t,a){},9334:function(e,t,a){},9647:function(e,t,a){},"9da8":function(e,t,a){},e7c8:function(e,t,a){}});
//# sourceMappingURL=app.9634cb51.js.map